logic enhancement

SD1 adds logic
